{"ast":null,"code":"var _jsxFileName = \"/Users/thatchampion/Desktop/Ironhack/Project4/frontend/src/components/mood.js\";\nimport React, { Component } from \"react\";\nimport Navbar from \"./navbar\";\nimport actions from \"../services\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst pd = require(\"paralleldots\");\n\nlet dateNow = new Date().toDateString();\npd.apiKey = process.env.API_KEY;\n\nclass Mood extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: { ...this.props.user\n      },\n      formShow: true,\n      username: \"\",\n      text: \"\",\n      date: new Date()\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.toggleForm = () => {\n      this.setState({\n        formShow: true\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault(); // pd.emotion(\n      //  this.state.text,\n      //   \"en\"\n      // )\n      //   .then(response => {\n      //     this.setState({\n      //       formShow: false,\n      //       mood: response.emotion\n      //     });\n      //   })\n      //   .catch(error => {\n      //     console.log(error);\n      //   });\n\n      this.setState({\n        formShow: false,\n        mood: {\n          Happy: 0.0286004865,\n          Angry: 0.0304055973,\n          Bored: 0.0060389347,\n          Fear: 0.1790783869,\n          Sad: 0.7433762018,\n          Excited: 0.0125003927\n        }\n      });\n      let text = {\n        username: this.state.user.email,\n        userDate: this.state.user.email + dateNow,\n        text: this.state.text\n      };\n      actions.addDiary(text).then(res => {\n        console.log(res.data);\n      });\n    };\n\n    this.handleDate = date => {\n      let time = new Date(date).toDateString();\n      this.setState({\n        date: date,\n        userDate2: this.state.user.email + time\n      });\n    };\n\n    this.showResults = () => {\n      actions.showMemory(this.state.userDate2).then(res => {\n        console.log(\"OUTPUT\", res.data);\n        return res.data.map((text, i) => {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: i,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"strong\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }\n          }, i, \".\"), text.text));\n        });\n      });\n    };\n  }\n\n  render() {\n    {\n      console.log(\"date\", this.state.userDate2);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, \"Memories for\", /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.date,\n      onSelect: this.handleDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }), this.showResults()), this.state.formShow ? /*#__PURE__*/React.createElement(\"form\", {\n      id: \"form6\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      name: \"text\",\n      required: true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, \"This story has been added to your diary\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, \"\\uD83D\\uDE00\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 19\n      }\n    }, \"Happy\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 19\n      }\n    }, (Number(this.state.mood.Happy) * 100).toFixed(2), \"%\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }, \"\\uD83D\\uDE20\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 19\n      }\n    }, \"Angry\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    }, (Number(this.state.mood.Angry) * 100).toFixed(2), \"%\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, \"\\uD83D\\uDE34\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, \"Bored\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, (Number(this.state.mood.Bored) * 100).toFixed(2), \"%\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    }, \"\\uD83D\\uDE31\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, \"Fear\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, (Number(this.state.mood.Fear) * 100).toFixed(2), \"%\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, \"\\uD83D\\uDE1E\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 19\n      }\n    }, \"Sad\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, (Number(this.state.mood.Sad) * 100).toFixed(2), \"%\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, \"\\uD83E\\uDD29\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }\n    }, \"Excited\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, (Number(this.state.mood.Excited) * 100).toFixed(2), \"%\"))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.toggleForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, \"New thoughts\"))));\n  }\n\n}\n\nexport default Mood;","map":{"version":3,"sources":["/Users/thatchampion/Desktop/Ironhack/Project4/frontend/src/components/mood.js"],"names":["React","Component","Navbar","actions","DatePicker","pd","require","dateNow","Date","toDateString","apiKey","process","env","API_KEY","Mood","state","user","props","formShow","username","text","date","handleChange","e","setState","target","name","value","toggleForm","handleSubmit","preventDefault","mood","Happy","Angry","Bored","Fear","Sad","Excited","email","userDate","addDiary","then","res","console","log","data","handleDate","time","userDate2","showResults","showMemory","map","i","render","Number","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Navbar from \"./navbar\";\nimport actions from \"../services\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst pd = require(\"paralleldots\");\nlet dateNow = new Date().toDateString();\npd.apiKey = process.env.API_KEY;\nclass Mood extends Component {\n  state = {\n    user: { ...this.props.user },\n    formShow: true,\n    username: \"\",\n    text: \"\",\n    date: new Date()\n  };\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n  toggleForm = () => {\n    this.setState({\n      formShow: true\n    });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n\n    // pd.emotion(\n    //  this.state.text,\n    //   \"en\"\n    // )\n    //   .then(response => {\n\n    //     this.setState({\n    //       formShow: false,\n    //       mood: response.emotion\n    //     });\n    //   })\n    //   .catch(error => {\n    //     console.log(error);\n    //   });\n    this.setState({\n      formShow: false,\n      mood: {\n        Happy: 0.0286004865,\n        Angry: 0.0304055973,\n        Bored: 0.0060389347,\n        Fear: 0.1790783869,\n        Sad: 0.7433762018,\n        Excited: 0.0125003927\n      }\n    });\n    let text = {\n      username: this.state.user.email,\n      userDate: this.state.user.email + dateNow,\n      text: this.state.text\n    };\n    actions.addDiary(text).then(res => {\n      console.log(res.data);\n    });\n  };\n  handleDate = date => {\n    let time = new Date(date).toDateString();\n    this.setState({\n      date: date,\n      userDate2: this.state.user.email + time\n    });\n  };\n  showResults = () => {\n    actions.showMemory(this.state.userDate2).then(res => {\n      console.log(\"OUTPUT\", res.data);\n      return res.data.map((text, i) => {\n        return (\n          <div key={i}>\n            <div>\n              <strong>{i}.</strong>\n              {text.text}\n            </div>\n          </div>\n        );\n      });\n    });\n  };\n  render() {\n    {\n      console.log(\"date\", this.state.userDate2);\n    }\n    return (\n      <div>\n        <Navbar />\n        <div>\n          <div>\n            Memories for\n            <DatePicker selected={this.state.date} onSelect={this.handleDate} />\n            {this.showResults()}\n          </div>\n          {this.state.formShow ? (\n            <form id=\"form6\" onSubmit={this.handleSubmit}>\n              <textarea\n                type=\"text\"\n                name=\"text\"\n                required\n                onChange={this.handleChange}\n              />\n              <div className=\"form-group\">\n                <input\n                  type=\"submit\"\n                  value=\"Create\"\n                  className=\"btn btn-primary\"\n                />\n              </div>\n            </form>\n          ) : (\n            <div>\n              <p>This story has been added to your diary</p>\n              <div>\n                <div>\n                  <div>&#128512;</div>\n                  <p>Happy</p>\n                  <p>{(Number(this.state.mood.Happy) * 100).toFixed(2)}%</p>\n                </div>\n                <div>\n                  <div>&#128544;</div>\n                  <p>Angry</p>\n                  <p>{(Number(this.state.mood.Angry) * 100).toFixed(2)}%</p>\n                </div>\n                <div>\n                  <div>&#128564;</div>\n                  <p>Bored</p>\n                  <p>{(Number(this.state.mood.Bored) * 100).toFixed(2)}%</p>\n                </div>\n                <div>\n                  <div>&#128561;</div>\n                  <p>Fear</p>\n                  <p>{(Number(this.state.mood.Fear) * 100).toFixed(2)}%</p>\n                </div>\n                <div>\n                  <div>&#128542;</div>\n                  <p>Sad</p>\n                  <p>{(Number(this.state.mood.Sad) * 100).toFixed(2)}%</p>\n                </div>\n                <div>\n                  <div>&#129321;</div>\n                  <p>Excited</p>\n                  <p>{(Number(this.state.mood.Excited) * 100).toFixed(2)}%</p>\n                </div>\n              </div>\n              <button onClick={this.toggleForm}>New thoughts</button>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Mood;\n"]},"metadata":{},"sourceType":"module"}